export default `<style type="text/css">
<!--
span.cls_002{font-family:Arial,serif;font-size:9.7px;color:rgb(0,0,0);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_002{font-family:Arial,serif;font-size:9.7px;color:rgb(0,0,0);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_003{font-size:15.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_003{font-size:15.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_004{font-size:10.3px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_004{font-size:10.3px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_005{font-family:Arial,serif;font-size:9.7px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_005{font-family:Arial,serif;font-size:9.7px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_006{font-size:13.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_006{font-size:13.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_007{font-family:Arial,serif;font-size:10.3px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_007{font-family:Arial,serif;font-size:10.3px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_008{font-size:10.3px;color:rgb(0,0,0);font-weight:bold;font-style:italic;text-decoration: none}
div.cls_008{font-size:10.3px;color:rgb(0,0,0);font-weight:bold;font-style:italic;text-decoration: none}
span.cls_009{font-size:10.3px;color:rgb(0,0,0);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_009{font-size:10.3px;color:rgb(0,0,0);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_010{font-size:10.3px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_010{font-size:10.3px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_011{font-size:9.7px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_011{font-size:9.7px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_012{font-size:9.7px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_012{font-size:9.7px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_013{font-family:"Consolas",serif;font-size:9.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_013{font-family:"Consolas",serif;font-size:9.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_014{font-family:"Consolas",serif;font-size:9.1px;color:rgb(32,144,97);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_014{font-family:"Consolas",serif;font-size:9.1px;color:rgb(32,144,97);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_015{font-family:"Consolas",serif;font-size:9.1px;color:rgb(64,160,111);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_015{font-family:"Consolas",serif;font-size:9.1px;color:rgb(64,160,111);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_016{font-family:"Consolas",serif;font-size:10.1px;color:rgb(148,64,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_016{font-family:"Consolas",serif;font-size:10.1px;color:rgb(148,64,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_017{font-family:"Consolas",serif;font-size:10.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_017{font-family:"Consolas",serif;font-size:10.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_018{font-family:"Consolas Bold",serif;font-size:10.1px;color:rgb(68,84,135);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_018{font-family:"Consolas Bold",serif;font-size:10.1px;color:rgb(68,84,135);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_019{font-family:"Consolas",serif;font-size:10.1px;color:rgb(32,144,97);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_019{font-family:"Consolas",serif;font-size:10.1px;color:rgb(32,144,97);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_020{font-family:"Consolas",serif;font-size:10.1px;color:rgb(0,0,255);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_020{font-family:"Consolas",serif;font-size:10.1px;color:rgb(0,0,255);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_021{font-family:"Consolas Italic",serif;font-size:10.1px;color:rgb(64,128,128);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_021{font-family:"Consolas Italic",serif;font-size:10.1px;color:rgb(64,128,128);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_022{font-family:"Consolas",serif;font-size:10.1px;color:rgb(64,160,111);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_022{font-family:"Consolas",serif;font-size:10.1px;color:rgb(64,160,111);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_023{font-family:"Consolas Bold",serif;font-size:10.1px;color:rgb(153,153,153);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_023{font-family:"Consolas Bold",serif;font-size:10.1px;color:rgb(153,153,153);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_024{font-size:13.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_024{font-size:13.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_025{font-size:10.3px;color:rgb(17,84,204);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_025{font-size:10.3px;color:rgb(17,84,204);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_026{font-size:10.3px;color:rgb(17,84,204);font-weight:normal;font-style:normal;text-decoration: underline}
div.cls_026{font-size:10.3px;color:rgb(17,84,204);font-weight:normal;font-style:normal;text-decoration: none}
-->
</style>
<script type="text/javascript" src="mammo/image/wz_jsgraphics.js"></script>
</head>
<body>
<div style="position:relative;left:50%;margin-left:-306px;top:0px;width:612px;height:440px;overflow:hidden;z-index: 100;">
<div style="position:absolute;left:0px;top:0px">
<img src="mammo/image/background01.jpg" width=612 height=792></div>
<div style="position:absolute;left:389.08px;top:35.32px" class="cls_002"><span class="cls_002">Confidential - Do not distribute!</span></div>
<div style="position:absolute;left:210.81px;top:275.08px" class="cls_003"><span class="cls_003">VINDR-MAMMO MANUAL</span></div>
<div style="position:absolute;left:206.00px;top:344.75px" class="cls_004"><span class="cls_004">Version:</span></div>
<div style="position:absolute;left:256.50px;top:344.75px" class="cls_004"><span class="cls_004">1.1</span></div>
<div style="position:absolute;left:220.01px;top:369.80px" class="cls_004"><span class="cls_004">Date:</span></div>
<div style="position:absolute;left:256.50px;top:369.80px" class="cls_004"><span class="cls_004">September 14, 2021</span></div>
<div style="position:absolute;left:185.02px;top:394.85px" class="cls_004"><span class="cls_004">Prepared by:</span></div>
<div style="position:absolute;left:256.50px;top:394.85px" class="cls_004"><span class="cls_004">Ha Q. Nguyen, Hieu T. Nguyen</span></div>
<div style="position:absolute;left:533.89px;top:740.77px" class="cls_005"><span class="cls_005">1</span></div>
</div>
<div style="position:relative;left:50%;margin-left:-306px;top:-50px;width:612px;height:440px;overflow:hidden;z-index: 99;">
<div style="position:absolute;left:0px;top:0px">
<img src="mammo/image/background02.jpg" width=612 height=792></div>
<div style="position:absolute;left:389.08px;top:35.32px" class="cls_002"><span class="cls_002">Confidential - Do not distribute!</span></div>
<div style="position:absolute;left:72.00px;top:71.14px" class="cls_006"><span class="cls_006">1.  Introduction</span></div>
<div style="position:absolute;left:72.00px;top:94.39px" class="cls_004"><span class="cls_004">VinDr-Mammo is a Computer-Aided Diagnosis (CAD) software that automatically analyzes an</span></div>
<div style="position:absolute;left:72.00px;top:110.26px" class="cls_004"><span class="cls_004">exam of multiple mammographic images in DICOM format and notifies users of the presence of</span></div>
<div style="position:absolute;left:72.00px;top:126.13px" class="cls_004"><span class="cls_004">suspicious findings in the exam. The primary benefit of the software is the ability to reduce the</span></div>
<div style="position:absolute;left:72.00px;top:142.00px" class="cls_004"><span class="cls_004">time it takes to alert radiologists/physicians to the presence of a suspicious finding. The software</span></div>
<div style="position:absolute;left:72.00px;top:157.87px" class="cls_004"><span class="cls_004">does not recommend treatment or provide a diagnosis. It is only meant as a tool to assist in</span></div>
<div style="position:absolute;left:72.00px;top:173.74px" class="cls_004"><span class="cls_004">improving workload prioritization of suspicious cases. The final diagnosis is provided by a</span></div>
<div style="position:absolute;left:72.00px;top:189.61px" class="cls_004"><span class="cls_004">radiologist/physician after reviewing the scan on his/her own.</span></div>
<div style="position:absolute;left:72.00px;top:221.34px" class="cls_004"><span class="cls_004">The analysis of VinDr-Mammo includes:</span></div>
<div style="position:absolute;left:99.00px;top:237.26px" class="cls_007"><span class="cls_007">●</span><span class="cls_004">  A lesion detection: each lesion on each image is surrounded with a rectangle and</span></div>
<div style="position:absolute;left:117.00px;top:253.14px" class="cls_004"><span class="cls_004">labeled with one of the pre-defined lesion classes as indicated in Section 3;</span></div>
<div style="position:absolute;left:99.00px;top:269.06px" class="cls_007"><span class="cls_007">●</span><span class="cls_004">  A breast classification: each breast is classified in terms of BI-RADS and density as</span></div>
<div style="position:absolute;left:117.00px;top:284.94px" class="cls_004"><span class="cls_004">indicated in Section 3.</span></div>
<div style="position:absolute;left:72.00px;top:300.81px" class="cls_004"><span class="cls_004">A visualization  of  analysis  results  of  VinDr-Mammo is shown in Figure</span></div>
<div style="position:absolute;left:465.08px;top:300.81px" class="cls_004"><span class="cls_004">1.  We provide</span></div>
<div style="position:absolute;left:72.00px;top:316.68px" class="cls_004"><span class="cls_004">quantitative performances of the lesion detection and the breast classification on a test dataset in</span></div>
<div style="position:absolute;left:72.00px;top:332.55px" class="cls_004"><span class="cls_004">Section 6.</span></div>
<div style="position:absolute;left:72.00px;top:364.28px" class="cls_004"><span class="cls_004">VinDr-Mammo is distributed as an Application Programming Interface (API). The input to the</span></div>
<div style="position:absolute;left:72.00px;top:380.15px" class="cls_004"><span class="cls_004">API is a DICOM study of mammographic images that satisfies the validation dictated in Section</span></div>
<div style="position:absolute;left:72.00px;top:396.02px" class="cls_004"><span class="cls_004">2. The output of the API is a JSON (JavaScript Object Notation) file with the structure given in</span></div>
<div style="position:absolute;left:72.00px;top:411.89px" class="cls_004"><span class="cls_004">Section 4. A snippet of Python code is provided in Section 5 to illustrate how the API should be</span></div>
<div style="position:absolute;left:72.00px;top:427.76px" class="cls_004"><span class="cls_004">called.</span></div>
<div style="position:absolute;left:533.89px;top:740.77px" class="cls_005"><span class="cls_005">2</span></div>
</div>
<div style="position:relative;left:50%;margin-left:-306px;top:-100px;width:612px;height:705px;overflow:hidden;z-index: 98;">
<div style="position:absolute;left:0px;top:0px">
<img src="mammo/image/background03.jpg" width=612 height=792></div>
<div style="position:absolute;left:389.08px;top:35.32px" class="cls_002"><span class="cls_002">Confidential - Do not distribute!</span></div>
<div style="position:absolute;left:176.39px;top:71.20px" class="cls_008"><span class="cls_008">Figure 1.</span><span class="cls_009"> A visualization of VinDr-Mammo’s analysis results.</span></div>
<div style="position:absolute;left:533.89px;top:740.77px" class="cls_005"><span class="cls_005">3</span></div>
</div>
<div style="position:relative;left:50%;margin-left:-306px;top:-150px;width:612px;height:708px;overflow:hidden;z-index: 97;">
<div style="position:absolute;left:0px;top:0px">
<img src="mammo/image/background04.jpg" width=612 height=792></div>
<div style="position:absolute;left:389.08px;top:35.32px" class="cls_002"><span class="cls_002">Confidential - Do not distribute!</span></div>
<div style="position:absolute;left:72.00px;top:71.14px" class="cls_006"><span class="cls_006">2.  Input validation</span></div>
<div style="position:absolute;left:90.00px;top:94.39px" class="cls_004"><span class="cls_004">An input to VinDr-Mammo must be a DICOM study that includes at least</span><span class="cls_010"> one of</span><span class="cls_004"> the</span></div>
<div style="position:absolute;left:90.00px;top:110.26px" class="cls_004"><span class="cls_004">following four views: Left MLO (Mediolateral Oblique), Left CC (Craniocaudal), Right</span></div>
<div style="position:absolute;left:90.00px;top:126.13px" class="cls_004"><span class="cls_004">MLO, Right CC. Table 1 gives the full list of DICOM tags that VinDr-Mammo requires for a</span></div>
<div style="position:absolute;left:90.00px;top:142.00px" class="cls_004"><span class="cls_004">valid mammographic study.</span></div>
<div style="position:absolute;left:108.47px;top:186.96px" class="cls_008"><span class="cls_008">Table 1</span><span class="cls_009">. List of required DICOM tags for the input to VinDr-Mammo. Required values for</span></div>
<div style="position:absolute;left:266.74px;top:202.83px" class="cls_009"><span class="cls_009">each tag are also given.</span></div>
<div style="position:absolute;left:108.30px;top:240.92px" class="cls_010"><span class="cls_010">Tag</span></div>
<div style="position:absolute;left:230.96px;top:240.92px" class="cls_010"><span class="cls_010">Keyword</span></div>
<div style="position:absolute;left:396.66px;top:240.92px" class="cls_010"><span class="cls_010">Required Value</span></div>
<div style="position:absolute;left:77.25px;top:272.25px" class="cls_004"><span class="cls_004">(0008,0060)</span></div>
<div style="position:absolute;left:168.75px;top:272.25px" class="cls_004"><span class="cls_004">Modality</span></div>
<div style="position:absolute;left:351.00px;top:272.25px" class="cls_004"><span class="cls_004">“MG”</span></div>
<div style="position:absolute;left:77.25px;top:303.58px" class="cls_004"><span class="cls_004">(0018,0015)</span></div>
<div style="position:absolute;left:168.75px;top:303.58px" class="cls_004"><span class="cls_004">BodyPartExamined</span></div>
<div style="position:absolute;left:351.00px;top:303.58px" class="cls_004"><span class="cls_004">“BREAST”</span></div>
<div style="position:absolute;left:77.25px;top:334.92px" class="cls_004"><span class="cls_004">(0020,0060)</span></div>
<div style="position:absolute;left:168.75px;top:334.92px" class="cls_004"><span class="cls_004">Laterality</span></div>
<div style="position:absolute;left:351.00px;top:345.15px" class="cls_004"><span class="cls_004">At least one of the two tags must</span></div>
<div style="position:absolute;left:351.00px;top:358.95px" class="cls_004"><span class="cls_004">be equal to either “L” or “R”</span></div>
<div style="position:absolute;left:77.25px;top:366.25px" class="cls_004"><span class="cls_004">(0020,0062)</span></div>
<div style="position:absolute;left:168.75px;top:366.25px" class="cls_004"><span class="cls_004">ImageLaterality</span></div>
<div style="position:absolute;left:77.25px;top:397.58px" class="cls_004"><span class="cls_004">(0018 0051)</span></div>
<div style="position:absolute;left:168.75px;top:397.58px" class="cls_004"><span class="cls_004">ViewPosition</span></div>
<div style="position:absolute;left:351.00px;top:397.58px" class="cls_004"><span class="cls_004">“CC” or “MLO”</span></div>
<div style="position:absolute;left:77.25px;top:428.91px" class="cls_004"><span class="cls_004">(0008,0068)</span></div>
<div style="position:absolute;left:168.75px;top:428.91px" class="cls_004"><span class="cls_004">PresentationIntentType</span></div>
<div style="position:absolute;left:351.00px;top:428.91px" class="cls_004"><span class="cls_004">Contains “ PRESENTATION”</span></div>
<div style="position:absolute;left:77.25px;top:460.24px" class="cls_004"><span class="cls_004">(0020,000D)</span></div>
<div style="position:absolute;left:168.75px;top:460.24px" class="cls_004"><span class="cls_004">StudyInstanceUID</span></div>
<div style="position:absolute;left:351.00px;top:460.24px" class="cls_004"><span class="cls_004">Non-empty</span></div>
<div style="position:absolute;left:77.25px;top:491.58px" class="cls_004"><span class="cls_004">(0028,1050)</span></div>
<div style="position:absolute;left:168.75px;top:491.58px" class="cls_004"><span class="cls_004">WindowCenter</span></div>
<div style="position:absolute;left:351.00px;top:491.58px" class="cls_004"><span class="cls_004">Non-empty</span></div>
<div style="position:absolute;left:77.25px;top:522.91px" class="cls_004"><span class="cls_004">(0028,1052)</span></div>
<div style="position:absolute;left:168.75px;top:522.91px" class="cls_004"><span class="cls_004">RescaleIntercept</span></div>
<div style="position:absolute;left:351.00px;top:522.91px" class="cls_004"><span class="cls_004">Non-empty</span></div>
<div style="position:absolute;left:77.25px;top:554.24px" class="cls_004"><span class="cls_004">(0008,0018)</span></div>
<div style="position:absolute;left:168.75px;top:554.24px" class="cls_004"><span class="cls_004">SOPInstanceUID</span></div>
<div style="position:absolute;left:351.00px;top:554.24px" class="cls_004"><span class="cls_004">Non-empty</span></div>
<div style="position:absolute;left:77.25px;top:585.57px" class="cls_004"><span class="cls_004">(0028,0004)</span></div>
<div style="position:absolute;left:168.75px;top:585.57px" class="cls_004"><span class="cls_004">PhotometricInterpretation</span></div>
<div style="position:absolute;left:351.00px;top:585.57px" class="cls_004"><span class="cls_004">Non-empty</span></div>
<div style="position:absolute;left:77.25px;top:616.90px" class="cls_004"><span class="cls_004">(0028,0120)</span></div>
<div style="position:absolute;left:168.75px;top:616.90px" class="cls_004"><span class="cls_004">PixelPaddingValue</span></div>
<div style="position:absolute;left:351.00px;top:616.90px" class="cls_004"><span class="cls_004">Non-empty</span></div>
<div style="position:absolute;left:77.25px;top:648.24px" class="cls_004"><span class="cls_004">(0028,1051)</span></div>
<div style="position:absolute;left:168.75px;top:648.24px" class="cls_004"><span class="cls_004">WindowWidth</span></div>
<div style="position:absolute;left:351.00px;top:648.24px" class="cls_004"><span class="cls_004">Non-empty</span></div>
<div style="position:absolute;left:77.25px;top:679.57px" class="cls_004"><span class="cls_004">(0028,1053)</span></div>
<div style="position:absolute;left:168.75px;top:679.57px" class="cls_004"><span class="cls_004">RescaleSlope</span></div>
<div style="position:absolute;left:351.00px;top:679.57px" class="cls_004"><span class="cls_004">Non-empty</span></div>
<div style="position:absolute;left:533.89px;top:740.77px" class="cls_005"><span class="cls_005">4</span></div>
</div>
<div style="position:relative;left:50%;margin-left:-306px;top:-200px;width:612px;height:715px;overflow:hidden;z-index: 96;">
<div style="position:absolute;left:0px;top:0px">
<img src="mammo/image/background05.jpg" width=612 height=792></div>
<div style="position:absolute;left:389.08px;top:35.32px" class="cls_002"><span class="cls_002">Confidential - Do not distribute!</span></div>
<div style="position:absolute;left:72.00px;top:71.14px" class="cls_006"><span class="cls_006">3.  Identifiable abnormalities</span></div>
<div style="position:absolute;left:90.00px;top:94.39px" class="cls_004"><span class="cls_004">A predefined list of abnormalities that can be analyzed by VinDr-Mammo is provided in</span></div>
<div style="position:absolute;left:90.00px;top:110.26px" class="cls_004"><span class="cls_004">Table 2. Any lesion of one of the provided classes will be localized on each image by a</span></div>
<div style="position:absolute;left:90.00px;top:126.13px" class="cls_004"><span class="cls_004">bounding box. The output of this API also includes a BI-RADS (Breast Imaging-Reporting</span></div>
<div style="position:absolute;left:90.00px;top:142.00px" class="cls_004"><span class="cls_004">and Data System) classification [1] and a density classification [1] for each breast. The</span></div>
<div style="position:absolute;left:90.00px;top:157.87px" class="cls_004"><span class="cls_004">classes BI-RADS 1, BI-RADS 2/3, and BI-RADS 4/5 correspond to the normal, benign, and</span></div>
<div style="position:absolute;left:90.00px;top:173.74px" class="cls_004"><span class="cls_004">suspicious statuses of the breast. Those labels are all included in Table 2.</span></div>
<div style="position:absolute;left:177.96px;top:204.15px" class="cls_008"><span class="cls_008">Table 2</span><span class="cls_009">. List of abnormalities identifiable by VinDr-Mammo.</span></div>
<div style="position:absolute;left:96.75px;top:226.09px" class="cls_011"><span class="cls_011">Lesion Label</span></div>
<div style="position:absolute;left:176.25px;top:226.09px" class="cls_011"><span class="cls_011">Left BI-RADS</span></div>
<div style="position:absolute;left:260.25px;top:226.09px" class="cls_011"><span class="cls_011">Left Density</span></div>
<div style="position:absolute;left:341.25px;top:226.09px" class="cls_011"><span class="cls_011">Right BI-RADS</span></div>
<div style="position:absolute;left:438.00px;top:226.09px" class="cls_011"><span class="cls_011">Right Density</span></div>
<div style="position:absolute;left:96.75px;top:249.99px" class="cls_012"><span class="cls_012">Calcification</span></div>
<div style="position:absolute;left:176.25px;top:249.99px" class="cls_012"><span class="cls_012">BI-RADS 1</span></div>
<div style="position:absolute;left:260.25px;top:249.99px" class="cls_012"><span class="cls_012">DENSITY A</span></div>
<div style="position:absolute;left:341.25px;top:249.99px" class="cls_012"><span class="cls_012">BI-RADS 1</span></div>
<div style="position:absolute;left:438.00px;top:249.99px" class="cls_012"><span class="cls_012">DENSITY A</span></div>
<div style="position:absolute;left:96.75px;top:273.89px" class="cls_012"><span class="cls_012">Mass</span></div>
<div style="position:absolute;left:176.25px;top:273.89px" class="cls_012"><span class="cls_012">BI-RADS 2/3</span></div>
<div style="position:absolute;left:260.25px;top:273.89px" class="cls_012"><span class="cls_012">DENSITY B</span></div>
<div style="position:absolute;left:341.25px;top:273.89px" class="cls_012"><span class="cls_012">BI-RADS 2/3</span></div>
<div style="position:absolute;left:438.00px;top:273.89px" class="cls_012"><span class="cls_012">DENSITY B</span></div>
<div style="position:absolute;left:96.75px;top:297.78px" class="cls_012"><span class="cls_012">Lymph Node</span></div>
<div style="position:absolute;left:176.25px;top:297.78px" class="cls_012"><span class="cls_012">BI-RADS 4/5</span></div>
<div style="position:absolute;left:260.25px;top:297.78px" class="cls_012"><span class="cls_012">DENSITY C</span></div>
<div style="position:absolute;left:341.25px;top:297.78px" class="cls_012"><span class="cls_012">BI-RADS 4/5</span></div>
<div style="position:absolute;left:438.00px;top:297.78px" class="cls_012"><span class="cls_012">DENSITY C</span></div>
<div style="position:absolute;left:260.25px;top:321.68px" class="cls_012"><span class="cls_012">DENSITY D</span></div>
<div style="position:absolute;left:438.00px;top:321.68px" class="cls_012"><span class="cls_012">DENSITY D</span></div>
<div style="position:absolute;left:72.00px;top:374.75px" class="cls_006"><span class="cls_006">4.</span></div>
<div style="position:absolute;left:90.00px;top:374.75px" class="cls_006"><span class="cls_006">Output format</span></div>
<div style="position:absolute;left:108.00px;top:398.00px" class="cls_004"><span class="cls_004">For a valid mammographic study, VinDr-Mammo returns:</span></div>
<div style="position:absolute;left:126.00px;top:413.92px" class="cls_007"><span class="cls_007">●</span><span class="cls_004">  Abnormality probability indicating the presence of any benign or malignant</span></div>
<div style="position:absolute;left:144.00px;top:429.80px" class="cls_004"><span class="cls_004">anomaly in the study.</span></div>
<div style="position:absolute;left:126.00px;top:445.72px" class="cls_007"><span class="cls_007">●</span><span class="cls_004">  BI-RADS and Density probabilities for each breast side.</span></div>
<div style="position:absolute;left:126.00px;top:461.65px" class="cls_007"><span class="cls_007">●</span><span class="cls_004">  Lesions in each image with the name, probability, and bounding box coordinates.</span></div>
<div style="position:absolute;left:108.00px;top:493.40px" class="cls_004"><span class="cls_004">Detailed description of the output format:</span></div>
<div style="position:absolute;left:126.00px;top:509.32px" class="cls_007"><span class="cls_007">●</span><span class="cls_010">  status</span><span class="cls_004">: status of the result.</span></div>
<div style="position:absolute;left:126.00px;top:525.25px" class="cls_007"><span class="cls_007">●</span><span class="cls_010">  results</span><span class="cls_004">: outputs of the module.</span></div>
<div style="position:absolute;left:126.00px;top:541.18px" class="cls_007"><span class="cls_007">●</span><span class="cls_010">  study</span><span class="cls_004">: VinDr-Mammo’s prediction for the given study.</span></div>
<div style="position:absolute;left:126.00px;top:557.11px" class="cls_007"><span class="cls_007">●</span></div>
<div style="position:absolute;left:144.00px;top:557.11px" class="cls_010"><span class="cls_010">&lt;&lt;StudyInstanceUid>></span><span class="cls_004">: The key is the actual Study Instance Uid of the given</span></div>
<div style="position:absolute;left:144.00px;top:572.98px" class="cls_004"><span class="cls_004">study. The value is VinDr-Mammo’s prediction for the study.</span></div>
<div style="position:absolute;left:126.00px;top:588.90px" class="cls_007"><span class="cls_007">●</span><span class="cls_010">  global</span><span class="cls_004">: The impression at study and breast level.</span></div>
<div style="position:absolute;left:162.00px;top:604.83px" class="cls_007"><span class="cls_007">○</span><span class="cls_010">  abnormal</span><span class="cls_004">: The probability for the presence of any benign or malignant</span></div>
<div style="position:absolute;left:180.00px;top:620.71px" class="cls_004"><span class="cls_004">anomaly in the study.</span></div>
<div style="position:absolute;left:162.00px;top:636.63px" class="cls_007"><span class="cls_007">○</span></div>
<div style="position:absolute;left:180.00px;top:636.63px" class="cls_010"><span class="cls_010">&lt;&lt;side>> DENSITY &lt;&lt;class>></span><span class="cls_004">: The probability of a particular density</span></div>
<div style="position:absolute;left:180.00px;top:652.51px" class="cls_004"><span class="cls_004">class for a breast side.</span></div>
<div style="position:absolute;left:162.00px;top:668.43px" class="cls_007"><span class="cls_007">○</span></div>
<div style="position:absolute;left:180.00px;top:668.43px" class="cls_010"><span class="cls_010">&lt;&lt;side>> BI-RADS &lt;&lt;class>></span><span class="cls_004">:  The probability of a particular BI-RADS</span></div>
<div style="position:absolute;left:180.00px;top:684.31px" class="cls_004"><span class="cls_004">class for a breast side.</span></div>
<div style="position:absolute;left:126.00px;top:700.23px" class="cls_007"><span class="cls_007">●</span><span class="cls_010">  instances</span><span class="cls_004">: The predicted lesions in each image.</span></div>
<div style="position:absolute;left:533.89px;top:740.77px" class="cls_005"><span class="cls_005">5</span></div>
</div>
<div style="position:relative;left:50%;margin-left:-306px;top:-250px;width:612px;height:718px;overflow:hidden;z-index: 95;">
<div style="position:absolute;left:0px;top:0px">
<img src="mammo/image/background06.jpg" width=612 height=792></div>
<div style="position:absolute;left:389.08px;top:35.32px" class="cls_002"><span class="cls_002">Confidential - Do not distribute!</span></div>
<div style="position:absolute;left:162.00px;top:71.26px" class="cls_007"><span class="cls_007">○</span><span class="cls_010">  local</span><span class="cls_004">: The list of lesions predicted in the corresponding image.</span></div>
<div style="position:absolute;left:198.00px;top:87.19px" class="cls_007"><span class="cls_007">■</span><span class="cls_010">  name</span><span class="cls_004">: Label of the lesion, e.g. Mass, Calcification, or Lymph</span></div>
<div style="position:absolute;left:216.00px;top:103.06px" class="cls_004"><span class="cls_004">Node.</span></div>
<div style="position:absolute;left:198.00px;top:118.98px" class="cls_007"><span class="cls_007">■</span><span class="cls_010">  prob</span><span class="cls_004">: The probability of the lesion.</span></div>
<div style="position:absolute;left:198.00px;top:134.91px" class="cls_007"><span class="cls_007">■</span><span class="cls_010">  start</span><span class="cls_004">: The top-left corner of the bounding box, specified by x and y</span></div>
<div style="position:absolute;left:216.00px;top:150.79px" class="cls_004"><span class="cls_004">coordinates.</span></div>
<div style="position:absolute;left:198.00px;top:166.71px" class="cls_007"><span class="cls_007">■</span><span class="cls_010">  end</span><span class="cls_004">: The bottom-right corner of the bounding box, specified x and</span></div>
<div style="position:absolute;left:216.00px;top:182.59px" class="cls_004"><span class="cls_004">y coordinates.</span></div>
<div style="position:absolute;left:108.00px;top:214.32px" class="cls_004"><span class="cls_004">An example of the prediction results in JSON format is shown in the following snippet.</span></div>
<div style="position:absolute;left:77.25px;top:251.33px" class="cls_013"><span class="cls_013">{</span></div>
<div style="position:absolute;left:87.15px;top:263.45px" class="cls_013"><span class="cls_013">"status":</span><span class="cls_014"> "DONE"</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:87.15px;top:275.57px" class="cls_013"><span class="cls_013">"result":{</span></div>
<div style="position:absolute;left:97.04px;top:287.69px" class="cls_013"><span class="cls_013">"study": {</span></div>
<div style="position:absolute;left:106.94px;top:299.81px" class="cls_013"><span class="cls_013">"2.16.840.1.113669.632.25.1.032198.20171222083243552.1": {</span></div>
<div style="position:absolute;left:448.37px;top:299.81px" class="cls_013"><span class="cls_013">#StudyInstanceUid</span></div>
<div style="position:absolute;left:116.84px;top:311.92px" class="cls_013"><span class="cls_013">"global": {</span></div>
<div style="position:absolute;left:126.73px;top:324.04px" class="cls_013"><span class="cls_013">"Abnormal":</span><span class="cls_015"> 0.11667054891586304</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:126.73px;top:348.28px" class="cls_013"><span class="cls_013">"L DENSITY A":</span><span class="cls_015"> 0.00014636576815973967</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:126.73px;top:360.40px" class="cls_013"><span class="cls_013">"L DENSITY B":</span><span class="cls_015"> 0.043404918164014816</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:126.73px;top:372.52px" class="cls_013"><span class="cls_013">"L DENSITY C":</span><span class="cls_015"> 0.9474998712539673</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:126.73px;top:384.64px" class="cls_013"><span class="cls_013">"L DENSITY D":</span><span class="cls_015"> 0.00894880946725607</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:126.73px;top:396.76px" class="cls_013"><span class="cls_013">"L BIRADS 1":</span><span class="cls_015"> 0.890146017074585</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:126.73px;top:408.88px" class="cls_013"><span class="cls_013">"L BIRADS 2/3":</span><span class="cls_015"> 0.09464551508426666</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:126.73px;top:420.99px" class="cls_013"><span class="cls_013">"L BIRADS 4/5":</span><span class="cls_015"> 0.015208559110760689</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:126.73px;top:445.23px" class="cls_013"><span class="cls_013">"R DENSITY A":</span><span class="cls_015"> 2.704268990783021e-05</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:126.73px;top:457.35px" class="cls_013"><span class="cls_013">"R DENSITY B":</span><span class="cls_015"> 0.019577577710151672</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:126.73px;top:469.47px" class="cls_013"><span class="cls_013">"R DENSITY C":</span><span class="cls_015"> 0.9530400633811951</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:126.73px;top:481.59px" class="cls_013"><span class="cls_013">"R DENSITY D":</span><span class="cls_015"> 0.027355408295989037</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:126.73px;top:493.71px" class="cls_013"><span class="cls_013">"R BIRADS 1":</span><span class="cls_015"> 0.8444392681121826</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:126.73px;top:505.83px" class="cls_013"><span class="cls_013">"R BIRADS 2/3":</span><span class="cls_015"> 0.13833723962306976</span><span class="cls_013">,</span></div>
<div style="position:absolute;left:126.73px;top:517.94px" class="cls_013"><span class="cls_013">"R BIRADS 4/5":</span><span class="cls_015"> 0.017223451286554337</span></div>
<div style="position:absolute;left:116.84px;top:530.06px" class="cls_013"><span class="cls_013">},</span></div>
<div style="position:absolute;left:116.84px;top:542.18px" class="cls_013"><span class="cls_013">"instances": {</span></div>
<div style="position:absolute;left:126.73px;top:554.30px" class="cls_013"><span class="cls_013">"2.16.840.1.113669.632.25.1.032198.20171222083415936.3": {</span></div>
<div style="position:absolute;left:458.26px;top:554.30px" class="cls_013"><span class="cls_013">#SOPInstanceUid</span></div>
<div style="position:absolute;left:136.63px;top:566.42px" class="cls_013"><span class="cls_013">"local": [</span></div>
<div style="position:absolute;left:146.53px;top:578.54px" class="cls_013"><span class="cls_013">{</span></div>
<div style="position:absolute;left:156.42px;top:590.66px" class="cls_013"><span class="cls_013">"name": [</span><span class="cls_014">"Lymph Node"</span><span class="cls_013">],</span></div>
<div style="position:absolute;left:156.42px;top:602.78px" class="cls_013"><span class="cls_013">"prob": [</span><span class="cls_015">0.7258858815198046</span><span class="cls_013">],</span></div>
<div style="position:absolute;left:156.42px;top:614.89px" class="cls_013"><span class="cls_013">"start": {"x":</span><span class="cls_015"> 314</span><span class="cls_013">, "y":</span><span class="cls_015"> 99</span><span class="cls_013">},</span></div>
<div style="position:absolute;left:156.42px;top:627.01px" class="cls_013"><span class="cls_013">"end": {"x":</span><span class="cls_015"> 546</span><span class="cls_013">, "y":</span><span class="cls_015"> 388</span><span class="cls_013">}</span></div>
<div style="position:absolute;left:146.53px;top:639.13px" class="cls_013"><span class="cls_013">},</span></div>
<div style="position:absolute;left:146.53px;top:651.25px" class="cls_013"><span class="cls_013">{</span></div>
<div style="position:absolute;left:156.42px;top:663.37px" class="cls_013"><span class="cls_013">"name": [</span><span class="cls_014">"Mass"</span><span class="cls_013">],</span></div>
<div style="position:absolute;left:156.42px;top:675.49px" class="cls_013"><span class="cls_013">"prob": [</span><span class="cls_015">0.5184403355743619</span><span class="cls_013">],</span></div>
<div style="position:absolute;left:156.42px;top:687.61px" class="cls_013"><span class="cls_013">"start": {"x":</span><span class="cls_015"> 0</span><span class="cls_013">, "y":</span><span class="cls_015"> 84</span><span class="cls_013">},</span></div>
<div style="position:absolute;left:156.42px;top:699.73px" class="cls_013"><span class="cls_013">"end": {"x":</span><span class="cls_015"> 557</span><span class="cls_013">, "y":</span><span class="cls_015"> 388</span><span class="cls_013">}</span></div>
<div style="position:absolute;left:533.89px;top:740.77px" class="cls_005"><span class="cls_005">6</span></div>
</div>
<div style="position:relative;left:50%;margin-left:-306px;top:-322px;width:612px;height:718px;overflow:hidden;z-index: 94;">
<div style="position:absolute;left:0px;top:0px">
<img src="mammo/image/background07.jpg" width=612 height=792></div>
<div style="position:absolute;left:389.08px;top:35.32px" class="cls_002"><span class="cls_002">Confidential - Do not distribute!</span></div>
<div style="position:absolute;left:146.53px;top:76.47px" class="cls_013"><span class="cls_013">}</span></div>
<div style="position:absolute;left:136.63px;top:88.59px" class="cls_013"><span class="cls_013">]</span></div>
<div style="position:absolute;left:126.73px;top:100.71px" class="cls_013"><span class="cls_013">},</span></div>
<div style="position:absolute;left:126.73px;top:112.83px" class="cls_013"><span class="cls_013">"2.16.840.1.113669.632.25.1.032198.20171222083543701.3": {</span></div>
<div style="position:absolute;left:458.26px;top:112.83px" class="cls_013"><span class="cls_013">#SOPInstanceUid</span></div>
<div style="position:absolute;left:136.63px;top:124.95px" class="cls_013"><span class="cls_013">"local": []</span></div>
<div style="position:absolute;left:126.73px;top:137.07px" class="cls_013"><span class="cls_013">},</span></div>
<div style="position:absolute;left:126.73px;top:149.19px" class="cls_013"><span class="cls_013">"2.16.840.1.113669.632.25.1.032198.20171222083331569.3": {</span></div>
<div style="position:absolute;left:458.26px;top:149.19px" class="cls_013"><span class="cls_013">#SOPInstanceUid</span></div>
<div style="position:absolute;left:136.63px;top:161.30px" class="cls_013"><span class="cls_013">"local": [</span></div>
<div style="position:absolute;left:146.53px;top:173.42px" class="cls_013"><span class="cls_013">{</span></div>
<div style="position:absolute;left:156.42px;top:185.54px" class="cls_013"><span class="cls_013">"name": [</span><span class="cls_014">"Calcification"</span><span class="cls_013">],</span></div>
<div style="position:absolute;left:156.42px;top:197.66px" class="cls_013"><span class="cls_013">"prob": [</span><span class="cls_015">0.7614262645502818</span><span class="cls_013">],</span></div>
<div style="position:absolute;left:156.42px;top:209.78px" class="cls_013"><span class="cls_013">"start": {"x":</span><span class="cls_015"> 2249</span><span class="cls_013">, "y":</span><span class="cls_015"> 105</span><span class="cls_013">},</span></div>
<div style="position:absolute;left:156.42px;top:221.90px" class="cls_013"><span class="cls_013">"end": {"x":</span><span class="cls_015"> 2661</span><span class="cls_013">, "y":</span><span class="cls_015"> 478</span><span class="cls_013">}</span></div>
<div style="position:absolute;left:146.53px;top:234.02px" class="cls_013"><span class="cls_013">}</span></div>
<div style="position:absolute;left:136.63px;top:246.14px" class="cls_013"><span class="cls_013">]</span></div>
<div style="position:absolute;left:126.73px;top:258.25px" class="cls_013"><span class="cls_013">},</span></div>
<div style="position:absolute;left:126.73px;top:270.37px" class="cls_013"><span class="cls_013">"2.16.840.1.113669.632.25.1.032198.20171222083510723.3": {</span></div>
<div style="position:absolute;left:458.26px;top:270.37px" class="cls_013"><span class="cls_013">#SOPInstanceUid</span></div>
<div style="position:absolute;left:136.63px;top:282.49px" class="cls_013"><span class="cls_013">"local": []</span></div>
<div style="position:absolute;left:126.73px;top:294.61px" class="cls_013"><span class="cls_013">}</span></div>
<div style="position:absolute;left:116.84px;top:306.73px" class="cls_013"><span class="cls_013">}</span></div>
<div style="position:absolute;left:106.94px;top:318.85px" class="cls_013"><span class="cls_013">}</span></div>
<div style="position:absolute;left:97.04px;top:330.97px" class="cls_013"><span class="cls_013">}</span></div>
<div style="position:absolute;left:87.15px;top:343.09px" class="cls_013"><span class="cls_013">}</span></div>
<div style="position:absolute;left:77.25px;top:355.20px" class="cls_013"><span class="cls_013">}</span></div>
<div style="position:absolute;left:72.00px;top:404.39px" class="cls_006"><span class="cls_006">5.  API Call</span></div>
<div style="position:absolute;left:90.00px;top:427.65px" class="cls_004"><span class="cls_004">The following snippet of Python code illustrates how the VinDr-Mammo API should be</span></div>
<div style="position:absolute;left:90.00px;top:443.52px" class="cls_004"><span class="cls_004">called. Note that all the DICOM files in the</span><span class="cls_009"> dicom_dir_path</span><span class="cls_004"> must belong to the same study,</span></div>
<div style="position:absolute;left:90.00px;top:459.38px" class="cls_004"><span class="cls_004">i.e. having the same value in the</span><span class="cls_009"> StudyInstanceUID</span><span class="cls_004"> tag.</span></div>
<div style="position:absolute;left:77.25px;top:496.30px" class="cls_016"><span class="cls_016">import</span><span class="cls_017"> requests</span></div>
<div style="position:absolute;left:77.25px;top:509.77px" class="cls_016"><span class="cls_016">from</span><span class="cls_017"> loguru</span><span class="cls_016"> import</span><span class="cls_017"> logger</span></div>
<div style="position:absolute;left:77.25px;top:523.23px" class="cls_016"><span class="cls_016">from</span><span class="cls_017"> pydicom</span><span class="cls_016"> import</span><span class="cls_017"> dcmread, dcmwrite</span></div>
<div style="position:absolute;left:77.25px;top:536.70px" class="cls_016"><span class="cls_016">from</span><span class="cls_017"> pydicom.filebase</span><span class="cls_016"> import</span><span class="cls_017"> DicomFileLike</span></div>
<div style="position:absolute;left:77.25px;top:550.17px" class="cls_016"><span class="cls_016">from</span><span class="cls_017"> tenacity</span><span class="cls_016"> import</span><span class="cls_017"> retry, stop_after_attempt, wait_fixed, after_log</span></div>
<div style="position:absolute;left:77.25px;top:590.56px" class="cls_016"><span class="cls_016">class</span><span class="cls_018"> StudyWorkflow</span><span class="cls_017">:</span></div>
<div style="position:absolute;left:99.23px;top:604.03px" class="cls_017"><span class="cls_017">ai_model =</span><span class="cls_019"> "mammogram"</span></div>
<div style="position:absolute;left:99.23px;top:617.49px" class="cls_017"><span class="cls_017">api_key =</span><span class="cls_019"> "YOUR_ISSUED_API_KEY"</span></div>
<div style="position:absolute;left:99.23px;top:630.96px" class="cls_017"><span class="cls_017">VINDR_AI_URL =</span><span class="cls_019"> "<A HREF="https://apiserver.vindr.ai"/">https://apiserver.vindr.ai"</A> </span></div>
<div style="position:absolute;left:99.23px;top:644.42px" class="cls_017"><span class="cls_017">result = {}</span></div>
<div style="position:absolute;left:99.23px;top:657.89px" class="cls_016"><span class="cls_016">def</span><span class="cls_018"> __init__</span><span class="cls_020">(self, dicom_dir_path)</span><span class="cls_017">:</span></div>
<div style="position:absolute;left:121.22px;top:671.35px" class="cls_021"><span class="cls_021"># Get all dicom files in the directory</span></div>
<div style="position:absolute;left:121.22px;top:684.82px" class="cls_017"><span class="cls_017">self.dicom_files = {}</span></div>
<div style="position:absolute;left:121.22px;top:698.28px" class="cls_017"><span class="cls_017">list_dicom = glob.glob(</span><span class="cls_019">f"</span><span class="cls_016">{dicom_dir_path}</span><span class="cls_019">/*.dicom"</span><span class="cls_017">)</span></div>
<div style="position:absolute;left:533.89px;top:740.77px" class="cls_005"><span class="cls_005">7</span></div>
</div>
<div style="position:relative;left:50%;margin-left:-306px;top:-394px;width:612px;height:715px;overflow:hidden;z-index: 93;">
<div style="position:absolute;left:0px;top:0px">
<img src="mammo/image/background08.jpg" width=612 height=792></div>
<div style="position:absolute;left:389.08px;top:35.32px" class="cls_002"><span class="cls_002">Confidential - Do not distribute!</span></div>
<div style="position:absolute;left:121.22px;top:76.39px" class="cls_016"><span class="cls_016">for</span><span class="cls_017"> index, item</span><span class="cls_016"> in</span><span class="cls_017"> enumerate(list_dicom):</span></div>
<div style="position:absolute;left:143.20px;top:89.85px" class="cls_017"><span class="cls_017">dicom_file = dcmread(item)</span></div>
<div style="position:absolute;left:143.20px;top:103.32px" class="cls_017"><span class="cls_017">dicom_bytes = self.convert_dataset_to_bytes(dicom_file)</span></div>
<div style="position:absolute;left:143.20px;top:116.78px" class="cls_017"><span class="cls_017">self.dicom_files[</span><span class="cls_019">f"files</span><span class="cls_016">{index}</span><span class="cls_019">"</span><span class="cls_017">] = dicom_bytes</span></div>
<div style="position:absolute;left:99.23px;top:143.71px" class="cls_016"><span class="cls_016">def</span><span class="cls_018"> convert_dataset_to_bytes</span><span class="cls_020">(self, dataset)</span><span class="cls_017">:</span></div>
<div style="position:absolute;left:121.22px;top:157.18px" class="cls_016"><span class="cls_016">with</span><span class="cls_017"> BytesIO()</span><span class="cls_016"> as</span><span class="cls_017"> buffer:</span></div>
<div style="position:absolute;left:143.20px;top:170.64px" class="cls_017"><span class="cls_017">ds = DicomFileLike(buffer)</span></div>
<div style="position:absolute;left:143.20px;top:184.11px" class="cls_017"><span class="cls_017">dcmwrite(ds, dataset)</span></div>
<div style="position:absolute;left:143.20px;top:197.57px" class="cls_017"><span class="cls_017">ds.seek(</span><span class="cls_022">0</span><span class="cls_017">)</span></div>
<div style="position:absolute;left:143.20px;top:211.04px" class="cls_016"><span class="cls_016">return</span><span class="cls_017"> ds.read()</span></div>
<div style="position:absolute;left:99.23px;top:237.97px" class="cls_016"><span class="cls_016">def</span><span class="cls_018"> call</span><span class="cls_020">(self)</span><span class="cls_017">:</span></div>
<div style="position:absolute;left:121.22px;top:251.44px" class="cls_017"><span class="cls_017">r = requests.Session()</span></div>
<div style="position:absolute;left:121.22px;top:264.90px" class="cls_017"><span class="cls_017">r.headers = {</span></div>
<div style="position:absolute;left:143.20px;top:278.37px" class="cls_019"><span class="cls_019">"X-API-KEY"</span><span class="cls_017">: self.api_key,</span></div>
<div style="position:absolute;left:121.22px;top:291.83px" class="cls_017"><span class="cls_017">}</span></div>
<div style="position:absolute;left:121.22px;top:305.30px" class="cls_017"><span class="cls_017">logger.info(</span><span class="cls_019">"HERE CALL AI MODEL"</span><span class="cls_017">)</span></div>
<div style="position:absolute;left:121.22px;top:318.76px" class="cls_021"><span class="cls_021"># Calling the API, obtaining the job_id to track the analysis process</span></div>
<div style="position:absolute;left:121.22px;top:332.23px" class="cls_017"><span class="cls_017">res = r.post(</span></div>
<div style="position:absolute;left:143.20px;top:345.69px" class="cls_019"><span class="cls_019">f"</span><span class="cls_016">{self.VINDR_AI_URL}</span><span class="cls_019">/diagnosis/</span><span class="cls_016">{self.ai_model}</span><span class="cls_019">"</span><span class="cls_017">,</span></div>
<div style="position:absolute;left:143.20px;top:359.16px" class="cls_017"><span class="cls_017">files=self.dicom_files,</span></div>
<div style="position:absolute;left:121.22px;top:372.62px" class="cls_017"><span class="cls_017">)</span></div>
<div style="position:absolute;left:121.22px;top:386.09px" class="cls_016"><span class="cls_016">if</span><span class="cls_017"> res.status_code !=</span><span class="cls_022"> 200</span><span class="cls_017">:</span></div>
<div style="position:absolute;left:143.20px;top:399.55px" class="cls_017"><span class="cls_017">print(</span><span class="cls_019">f"Response body:</span><span class="cls_016"> {res.text}</span><span class="cls_019">"</span><span class="cls_017">)</span></div>
<div style="position:absolute;left:121.22px;top:413.02px" class="cls_017"><span class="cls_017">res.raise_for_status()</span></div>
<div style="position:absolute;left:121.22px;top:426.48px" class="cls_017"><span class="cls_017">job_id = res.json()[</span><span class="cls_019">"job_id"</span><span class="cls_017">]</span></div>
<div style="position:absolute;left:121.22px;top:453.42px" class="cls_021"><span class="cls_021"># Polling until the analysis process finishes.</span></div>
<div style="position:absolute;left:121.22px;top:466.88px" class="cls_023"><span class="cls_023">@retry(</span></div>
<div style="position:absolute;left:143.20px;top:480.35px" class="cls_017"><span class="cls_017">stop=stop_after_attempt(</span><span class="cls_022">1000</span><span class="cls_017">),</span></div>
<div style="position:absolute;left:143.20px;top:493.81px" class="cls_017"><span class="cls_017">wait=wait_fixed(</span><span class="cls_022">5</span><span class="cls_017">),</span></div>
<div style="position:absolute;left:143.20px;top:507.28px" class="cls_017"><span class="cls_017">after=after_log(logger, logging.DEBUG),</span></div>
<div style="position:absolute;left:121.22px;top:520.74px" class="cls_017"><span class="cls_017">)</span></div>
<div style="position:absolute;left:121.22px;top:534.21px" class="cls_016"><span class="cls_016">def</span><span class="cls_018"> check_result</span><span class="cls_020">()</span><span class="cls_017">:</span></div>
<div style="position:absolute;left:143.20px;top:547.67px" class="cls_017"><span class="cls_017">res = r.get(</span></div>
<div style="position:absolute;left:165.18px;top:561.14px" class="cls_019"><span class="cls_019">f"</span><span class="cls_016">{self.VINDR_AI_URL}</span><span class="cls_019">/jobs/</span><span class="cls_016">{job_id}</span><span class="cls_019">"</span><span class="cls_017">,</span></div>
<div style="position:absolute;left:143.20px;top:574.60px" class="cls_017"><span class="cls_017">)</span></div>
<div style="position:absolute;left:143.20px;top:588.07px" class="cls_017"><span class="cls_017">job = res.json()</span></div>
<div style="position:absolute;left:143.20px;top:601.53px" class="cls_016"><span class="cls_016">if</span><span class="cls_017"> job.get(</span><span class="cls_019">"status"</span><span class="cls_017">)</span><span class="cls_016"> not in</span><span class="cls_017"> {</span><span class="cls_019">"DONE"</span><span class="cls_017">,</span><span class="cls_019"> "FAIL"</span><span class="cls_017">}:</span></div>
<div style="position:absolute;left:165.18px;top:615.00px" class="cls_016"><span class="cls_016">raise</span><span class="cls_017"> Exception(</span><span class="cls_019">"Retry in 1s"</span><span class="cls_017">)</span></div>
<div style="position:absolute;left:121.22px;top:641.93px" class="cls_017"><span class="cls_017">check_result()</span></div>
<div style="position:absolute;left:121.22px;top:668.86px" class="cls_021"><span class="cls_021"># Retrieving the analysis result</span></div>
<div style="position:absolute;left:121.22px;top:682.33px" class="cls_017"><span class="cls_017">res = r.get(</span></div>
<div style="position:absolute;left:143.20px;top:695.79px" class="cls_019"><span class="cls_019">f"</span><span class="cls_016">{self.VINDR_AI_URL}</span><span class="cls_019">/jobs/</span><span class="cls_016">{job_id}</span><span class="cls_019">/result"</span><span class="cls_017">,</span></div>
<div style="position:absolute;left:533.89px;top:740.77px" class="cls_005"><span class="cls_005">8</span></div>
</div>
<div style="position:relative;left:50%;margin-left:-306px;top:-466px;width:612px;height:698px;overflow:hidden;z-index: 92;">
<div style="position:absolute;left:0px;top:0px">
<img src="mammo/image/background09.jpg" width=612 height=792></div>
<div style="position:absolute;left:389.08px;top:35.32px" class="cls_002"><span class="cls_002">Confidential - Do not distribute!</span></div>
<div style="position:absolute;left:121.22px;top:76.39px" class="cls_017"><span class="cls_017">)</span></div>
<div style="position:absolute;left:121.22px;top:89.85px" class="cls_017"><span class="cls_017">res.raise_for_status()</span></div>
<div style="position:absolute;left:121.22px;top:103.32px" class="cls_017"><span class="cls_017">self.result = res.json()</span></div>
<div style="position:absolute;left:77.25px;top:143.71px" class="cls_017"><span class="cls_017">test_api = StudyWorkflow(</span><span class="cls_019">'path-to-study-dir'</span><span class="cls_017">)</span></div>
<div style="position:absolute;left:77.25px;top:157.18px" class="cls_017"><span class="cls_017">test_api.call()</span></div>
<div style="position:absolute;left:77.25px;top:170.64px" class="cls_017"><span class="cls_017">print(test_api.result)</span></div>
<div style="position:absolute;left:72.00px;top:223.91px" class="cls_006"><span class="cls_006">6.  Performance data</span></div>
<div style="position:absolute;left:90.00px;top:247.16px" class="cls_004"><span class="cls_004">The performance of VinDr-Mammo in analyzing mammographic studies was measured by</span></div>
<div style="position:absolute;left:90.00px;top:263.03px" class="cls_004"><span class="cls_004">the F2-score [2] on a test dataset that were retrospectively collected from several hospitals in</span></div>
<div style="position:absolute;left:90.00px;top:278.90px" class="cls_004"><span class="cls_004">Vietnam. This dataset includes 2,607 studies with 7671 images of 5115 breasts. The statistics</span></div>
<div style="position:absolute;left:90.00px;top:294.77px" class="cls_004"><span class="cls_004">of BI-RADS and density as well as lesions in the test dataset are given Figure 2 and Table 3,</span></div>
<div style="position:absolute;left:90.00px;top:310.64px" class="cls_004"><span class="cls_004">respectively. We chose F2-score as the metric for both the lesion detection and breast</span></div>
<div style="position:absolute;left:90.00px;top:326.51px" class="cls_004"><span class="cls_004">classification since it favors the recall (or sensitivity) over the precision. This measurement,</span></div>
<div style="position:absolute;left:90.00px;top:342.38px" class="cls_004"><span class="cls_004">therefore, closely reflects the ability of VinDr-Mammo to assist radiologists/physicians in</span></div>
<div style="position:absolute;left:90.00px;top:358.24px" class="cls_004"><span class="cls_004">spotting  out  abnormalities.  Detailed  results  for  the  lesion  detection  and  the  breast</span></div>
<div style="position:absolute;left:90.00px;top:374.11px" class="cls_004"><span class="cls_004">classification are given in Tables 4 and 5, respectively. The average processing time is about</span></div>
<div style="position:absolute;left:90.00px;top:389.98px" class="cls_004"><span class="cls_004">60 seconds per study, not including data transfer.</span></div>
<div style="position:absolute;left:166.01px;top:423.04px" class="cls_008"><span class="cls_008">Figure 2</span><span class="cls_009">. Distribution of BI-RADS and density in the test dataset.</span></div>
<div style="position:absolute;left:533.89px;top:740.77px" class="cls_005"><span class="cls_005">9</span></div>
</div>
<div style="position:relative;left:50%;margin-left:-306px;top:-527px;width:612px;height:506px;overflow:hidden;z-index: 91;">
<div style="position:absolute;left:0px;top:0px">
<img src="mammo/image/background10.jpg" width=612 height=792></div>
<div style="position:absolute;left:389.08px;top:35.32px" class="cls_002"><span class="cls_002">Confidential - Do not distribute!</span></div>
<div style="position:absolute;left:197.73px;top:89.20px" class="cls_008"><span class="cls_008">Table 3.</span><span class="cls_009"> Number of lesions in the test dataset</span></div>
<div style="position:absolute;left:145.50px;top:116.32px" class="cls_010"><span class="cls_010">Lesion</span></div>
<div style="position:absolute;left:248.25px;top:116.32px" class="cls_010"><span class="cls_010"># Boxes</span></div>
<div style="position:absolute;left:322.50px;top:116.32px" class="cls_010"><span class="cls_010"># Images (with percentage)</span></div>
<div style="position:absolute;left:145.50px;top:141.37px" class="cls_004"><span class="cls_004">Mass</span></div>
<div style="position:absolute;left:248.25px;top:141.37px" class="cls_004"><span class="cls_004">856</span></div>
<div style="position:absolute;left:322.50px;top:141.37px" class="cls_004"><span class="cls_004">721 (10.05%)</span></div>
<div style="position:absolute;left:145.50px;top:166.42px" class="cls_004"><span class="cls_004">Calcification</span></div>
<div style="position:absolute;left:248.25px;top:166.42px" class="cls_004"><span class="cls_004">2457</span></div>
<div style="position:absolute;left:322.50px;top:166.42px" class="cls_004"><span class="cls_004">1721 (23.98%)</span></div>
<div style="position:absolute;left:145.50px;top:191.47px" class="cls_004"><span class="cls_004">Lymph Node</span></div>
<div style="position:absolute;left:248.25px;top:191.47px" class="cls_004"><span class="cls_004">2852</span></div>
<div style="position:absolute;left:322.50px;top:191.47px" class="cls_004"><span class="cls_004">2423 (33.77%)</span></div>
<div style="position:absolute;left:145.50px;top:216.52px" class="cls_004"><span class="cls_004">None of the above</span></div>
<div style="position:absolute;left:248.25px;top:216.52px" class="cls_004"><span class="cls_004">-</span></div>
<div style="position:absolute;left:322.50px;top:216.52px" class="cls_004"><span class="cls_004">3757 (52.36%)</span></div>
<div style="position:absolute;left:193.25px;top:270.76px" class="cls_008"><span class="cls_008">Table 4.</span><span class="cls_009"> Performance of the lesion detection of</span></div>
<div style="position:absolute;left:269.90px;top:286.63px" class="cls_009"><span class="cls_009">VinDr-Mammo</span></div>
<div style="position:absolute;left:180.00px;top:325.74px" class="cls_010"><span class="cls_010">Lesion</span></div>
<div style="position:absolute;left:304.50px;top:325.74px" class="cls_010"><span class="cls_010">Performance (F2)</span></div>
<div style="position:absolute;left:180.00px;top:364.86px" class="cls_004"><span class="cls_004">Mass</span></div>
<div style="position:absolute;left:304.50px;top:364.86px" class="cls_004"><span class="cls_004">47%</span></div>
<div style="position:absolute;left:180.00px;top:403.98px" class="cls_004"><span class="cls_004">Calcification</span></div>
<div style="position:absolute;left:304.50px;top:403.98px" class="cls_004"><span class="cls_004">47%</span></div>
<div style="position:absolute;left:180.00px;top:443.10px" class="cls_004"><span class="cls_004">Lymph Node</span></div>
<div style="position:absolute;left:304.50px;top:443.10px" class="cls_004"><span class="cls_004">75%</span></div>
<div style="position:absolute;left:180.00px;top:482.22px" class="cls_010"><span class="cls_010">Average</span></div>
<div style="position:absolute;left:304.50px;top:482.22px" class="cls_010"><span class="cls_010">56%</span></div>
<div style="position:absolute;left:527.77px;top:740.77px" class="cls_005"><span class="cls_005">10</span></div>
</div>
<div style="position:relative;left:50%;margin-left:-306px;margin-bottom:2550px;top:-599px;width:612px;height:530px;overflow:hidden;z-index: 90;">
<div style="position:absolute;left:0px;top:0px">
<img src="mammo/image/background11.jpg" width=612 height=792></div>
<div style="position:absolute;left:389.08px;top:35.32px" class="cls_002"><span class="cls_002">Confidential - Do not distribute!</span></div>
<div style="position:absolute;left:135.82px;top:105.64px" class="cls_008"><span class="cls_008">Table 5.</span><span class="cls_009"> Performance of the breast classification of VinDr-Mammo</span></div>
<div style="position:absolute;left:167.33px;top:144.76px" class="cls_010"><span class="cls_010">BI-RADS</span></div>
<div style="position:absolute;left:369.70px;top:144.76px" class="cls_010"><span class="cls_010">DENSITY</span></div>
<div style="position:absolute;left:97.50px;top:183.88px" class="cls_010"><span class="cls_010">Class</span></div>
<div style="position:absolute;left:192.00px;top:183.88px" class="cls_010"><span class="cls_010">Performance (F2)</span></div>
<div style="position:absolute;left:297.00px;top:183.88px" class="cls_010"><span class="cls_010">Class</span></div>
<div style="position:absolute;left:389.25px;top:183.88px" class="cls_010"><span class="cls_010">Performance (F2)</span></div>
<div style="position:absolute;left:192.00px;top:210.93px" class="cls_024"><span class="cls_024">88%</span></div>
<div style="position:absolute;left:389.25px;top:210.93px" class="cls_024"><span class="cls_024">33%</span></div>
<div style="position:absolute;left:97.50px;top:223.00px" class="cls_004"><span class="cls_004">BI-RADS 1</span></div>
<div style="position:absolute;left:297.00px;top:223.00px" class="cls_004"><span class="cls_004">DENSITY A</span></div>
<div style="position:absolute;left:192.00px;top:250.05px" class="cls_024"><span class="cls_024">64%</span></div>
<div style="position:absolute;left:389.25px;top:250.05px" class="cls_024"><span class="cls_024">66%</span></div>
<div style="position:absolute;left:97.50px;top:262.12px" class="cls_004"><span class="cls_004">BI-RADS 2/3</span></div>
<div style="position:absolute;left:297.00px;top:262.12px" class="cls_004"><span class="cls_004">DENSITY B</span></div>
<div style="position:absolute;left:192.00px;top:289.17px" class="cls_024"><span class="cls_024">58%</span></div>
<div style="position:absolute;left:389.25px;top:289.17px" class="cls_024"><span class="cls_024">86%</span></div>
<div style="position:absolute;left:97.50px;top:301.24px" class="cls_004"><span class="cls_004">BI-RADS 4/5</span></div>
<div style="position:absolute;left:297.00px;top:301.24px" class="cls_004"><span class="cls_004">DENSITY C</span></div>
<div style="position:absolute;left:389.25px;top:328.29px" class="cls_024"><span class="cls_024">58%</span></div>
<div style="position:absolute;left:297.00px;top:340.36px" class="cls_004"><span class="cls_004">DENSITY D</span></div>
<div style="position:absolute;left:97.50px;top:379.47px" class="cls_010"><span class="cls_010">Average</span></div>
<div style="position:absolute;left:192.00px;top:379.47px" class="cls_010"><span class="cls_010">70%</span></div>
<div style="position:absolute;left:297.00px;top:379.47px" class="cls_010"><span class="cls_010">Average</span></div>
<div style="position:absolute;left:389.25px;top:379.47px" class="cls_010"><span class="cls_010">61%</span></div>
<div style="position:absolute;left:72.00px;top:447.63px" class="cls_010"><span class="cls_010">REFERENCES</span></div>
<div style="position:absolute;left:72.00px;top:479.36px" class="cls_004"><span class="cls_004">[1]</span><span class="cls_025"> </span><A HREF="https://radiologyassistant.nl/breast/bi-rads/bi-rads-for-mammography-and-ultrasound-2013">https://radiologyassistant.nl/breast/bi-rads/bi-rads-for-mammography-and-ultrasound-2013</A> </span></div>
<div style="position:absolute;left:72.00px;top:495.23px" class="cls_004"><span class="cls_004">[2]</span><span class="cls_025"> </span><A HREF="https://en.wikipedia.org/wiki/F-score">https://en.wikipedia.org/wiki/F-score</A> </span></div>
<div style="position:absolute;left:528.59px;top:740.77px" class="cls_005"><span class="cls_005">11</span></div>
</div>
`;
